<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>Survey</title>
</head>

<body>
    <div class="container container-fluid">
        <div id="row-header" class="row">
            <div class="col-12 jumbotron h1 text-center bg-dark text-white py-3 mb-3">
                <p>Survey<i class="fab fa-wpforms h1 ml-4"></i></p>
                <div class="col-12 text-center text-white bg-dark ">
                    <a href="/">
                        <button type="button" class="btn btn-light">
                            <i class="fas fa-home h2"></i>
                        </button>
                    </a>
                </div>
            </div>
        </div>
        
        <div id="row-form" class="row mb-0 mb-md-3">
            <div id="col-form" class="col px-0">
                <form>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center">
                            About You
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="name">Name (Required)</label>
                                <input type="text" class="form-control w-25" id="name">
                            </div>
                            <div class="form-group">
                                <label for="photo">Link to Photo Image (Required)</label>
                                <input type="text" class="form-control w-100" id="photo">
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 1
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q1">Your mind is always buzzing with unexplored ideas and plans.</label>
                                <select class="form-control w-25" id="q1">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 2
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q2">Generally speaking, you rely more on your experience than your
                                    imagination.</label>
                                <select class="form-control w-25" id="q2">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 3
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q3">You find it easy to stay relaxed and focused even when there is some
                                    pressure.</label>
                                <select class="form-control w-25" id="q3">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 4
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q4">You rarely do something just out of sheer curiosity.</label>
                                <select class="form-control w-25" id="q4">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 5
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q5">People can rarely upset you.</label>
                                <select class="form-control w-25" id="q5">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 6
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q6">It is often difficult for you to relate to other people’s
                                    feelings.</label>
                                <select class="form-control w-25" id="q6">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 7
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q7">In a discussion, truth should be more important than people’s
                                    sensitivities.</label>
                                <select class="form-control w-25" id="q7">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 8
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q8">You rarely get carried away by fantasies and ideas.</label>
                                <select class="form-control w-25" id="q8">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 9
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q9">You think that everyone’s views should be respected regardless of
                                    whether they are supported by facts or not.</label>
                                <select class="form-control w-25" id="q9">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card border-0">
                        <div class="card-header bg-info h5 text-white text-center w-25">
                            Question 10
                        </div>
                        <div class="card-body border mb-2 bg-light">
                            <div class="form-group">
                                <label for="q10">You feel more energetic after spending time with a group of
                                    people.</label>
                                <select class="form-control w-25" id="q10">
                                    <option value="" disabled selected>Select an Option</option>
                                    <option value="1">1 - Strongly Disagree</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 - Strongly Agree</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <button id="frmSubmit" type="submit" class="btn btn-dark w-100">
                        Submit
                    </button>
                </form>
            </div>
        </div>
        <!-- Display Modal with BFF data Here [PLACE-HOLDER]-->
        <div id="bffModal" class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" style="min-width: 667px;" role="document">
                <div class="modal-content">
                <div class="modal-header card-header text-white bg-info">
                    <h5 class="modal-title col-12 text-center">Meet your new Best Friend!!!</h5>
                </div>
                <div class="modal-body text-center">
                    <p id="bffName" class="text-center h1"></p>
                    <img id="bffPhoto" style="max-width: 633px;max-height: 356px;"/>
                </div>
                <div class="modal-footer">
                    <button id="bffModalClose" type="button" class="btn btn-info">Close</button>
                </div>
                </div>
            </div>
        </div>
        <!-- END MODAL -->
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</body>

</html>

<script type="text/javascript">
    console.log("JS Loaded");

    $(document).on("click", "#frmSubmit", function(event) {
        console.log("Clicked SUBMIT");
        event.preventDefault();

        //Scroll to the top of the page
        window.scrollTo(0,0);

        // Here we grab the form elements
        var newFriend = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            q1: $("#q1").val().trim(),
            q2: $("#q2").val().trim(),
            q3: $("#q3").val().trim(),
            q4: $("#q4").val().trim(),
            q5: $("#q5").val().trim(),
            q6: $("#q6").val().trim(),
            q7: $("#q7").val().trim(),
            q8: $("#q8").val().trim(),
            q9: $("#q9").val().trim(),
            q10: $("#q10").val().trim()
        };
        console.log("BEFORE POST: \n");
        console.log(newFriend);

        $.post("/api/friends", newFriend, function(data){
            console.log("Returned from POST: \n");
            console.log(data);
            $("#bffModal").show();
            $("#bffName").append(data.name);
            $("#bffPhoto").attr("src", data.photo);

            //clear the survey values when submitting
            $("#name").val("");
            $("#photo").val("");
            $("#q2").val("");
            $("#q1").val("");
            $("#q3").val("");
            $("#q4").val("");
            $("#q5").val("");
            $("#q6").val("");
            $("#q7").val("");
            $("#q8").val("");
            $("#q9").val("");
            $("#q10").val(""); 
        });

       
    });

    $(document).on("click", "#bffModalClose", function () {
        $("#bffModal").hide();
        $("#bffName").text("");
        $("#bffPhoto").removeAttr("src");
    });




</script>